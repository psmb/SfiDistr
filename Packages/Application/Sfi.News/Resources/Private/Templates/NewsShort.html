{namespace neos=Neos\Neos\ViewHelpers}
{namespace m=Neos\Media\ViewHelpers}

<div class="Media">
	<neos:link.node absolute="true" node="{node}" title="{node.properties.title}">
		<div class="Media-Image">
			<style>
				.video-preview:hover .play-button {
					transform: scale(1.1);
				}
			
				.video-preview:hover tr {
					background-color: rgba(255, 255, 255, .2);
				}
			</style>
			<f:if condition="{hasVideo}">
				<f:then>
					<div style="margin: 0 auto 20px auto;">
						<div class="video-preview" style="overflow: hidden; position: relative; background-color: #5b5f66; background-image: radial-gradient(circle at center, #5b5f66, #1d1f21); display: block; text-decoration: none;">
							<img src="https://dummyimage.com/640x338/fff/fff&text=+" alt="" width="100%" border="0" style="visibility: hidden;">
							<table cellpadding="0" cellspacing="0" border="0" width="100%" background="{thumbnailImageUri}" role="presentation" style="position: absolute; top: 0; background-position: center; background-size: cover;">
								<tr style="transition: all .5s cubic-bezier(0.075, 0.82, 0.165, 1);">
									<td width="25%">
										<img src="https://dummyimage.com/150x315/fff/fff&text=+" alt="" width="100%" border="0" style="height: auto; opacity: 0; visibility: hidden;">
									</td>
									<td width="50%" align="center" valign="middle">
										<div class="play-button" style="box-sizing: content-box; background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.1)); border: 4px solid white; border-radius: 50%; box-shadow: 0 1px 2px rgba(0,0,0,0.3), inset 0 1px 2px rgba(0,0,0,0.3); height: 34px; margin: 0 auto; padding: 18px 16px 18px 24px; transition: transform .5s cubic-bezier(0.075, 0.82, 0.165, 1); width: 30px;">
											<div style="border-color: transparent transparent transparent white; border-style: solid; border-width: 17px 0 17px 30px; display: block; font-size: 0; height: 0; Margin: 0 auto; width: 0;">&nbsp;</div>
										</div>
									</td>
									<td width="25%">
										&nbsp;
									</td>
								</tr>
							</table>
						</div>
					</div>
				</f:then>
				<f:else>
					{thumbnailImage -> f:format.raw()}
				</f:else>
			</f:if>
			

		</div>
		<div class="MediaSmall">
			<h3 class="MediaSmall-Title">
				{title -> f:format.raw()}
			</h3>
			<div class="MediaSmall-Teaser RteTextLinkable">{teaser -> f:format.raw()}</div>
			<f:if condition="{date}">
				<div class="MediaSmall-Date"><f:format.date forceLocale="{true}" cldrFormat="dd MMMM yyyy">{date}</f:format.date></div>
			</f:if>
		</div>
	</neos:link.node>
</div>
