{namespace neos=TYPO3\Neos\ViewHelpers}
{namespace m=Neos\Media\ViewHelpers}
{namespace s=Sfi\Shared\ViewHelpers}

<div>
	<div class="show-for-small-only">
		<div class="MediaSlideSmall">
			<neos:link.node node="{node}">
				<div class="MediaSlideSmall-Image">
					<f:if condition="{thumbnailImage}">
						<m:image asset="{thumbnailImage}" maximumWidth="420" maximumHeight="222" allowCropping="true" allowUpScaling="true" alt="{title}" />
					</f:if>
				</div>
				<div class="MediaSlideSmall-Body">
					<h3 class="MediaSlideSmall-Title">
						{title}
					</h3>
					<div class="MediaSlideSmall-Teaser RteTextLinkable">{teaser -> f:format.raw()}</div>
					<f:if condition="{date}">
						<div class="MediaSlideSmall-Date"><f:format.date forceLocale="{true}" cldrFormat="{configuration.dateFormat}">{date}</f:format.date></div>
					</f:if>
				</div>
			</neos:link.node>
		</div>
	</div>
	<div class="show-for-medium-up">
		<div class="MediaSlideMedium Cover" style="background-image:url('{m:uri.image(asset: thumbnailImage, maximumWidth: configuration.thumbnailWidth, maximumHeight: configuration.thumbnailHeight, allowCropping: true, allowUpScaling: true)}')">
			<neos:link.node node="{node}">
				<div class="row">
					<div class="MediaSlideMedium-Wrap columns">
						<div class="MediaSlideMedium-Body">
							<h3 class="MediaSlideMedium-Title">
								<f:if condition="{node.nodeType.name} == 'Sfi.News:Announcement'">
									<div class="MediaSlideMedium-Date">
										<f:if condition="{node.properties.dateStart}">
											<f:if condition="{f:format.date(date: node.properties.dateStart format: 'Y-m-d')} < {f:format.date(date: date, format: 'Y-m-d')}">
												<span><f:format.date forceLocale="{true}" cldrFormat="{configuration.dateFormat}">{node.properties.dateStart}</f:format.date></span>
												<span>â€“</span>
											</f:if>
										</f:if>
										<span><f:format.date forceLocale="{true}" cldrFormat="{configuration.dateFormat}">{date}</f:format.date></span>
									</div>
								</f:if>
								{title}
							</h3>
							<div class="MediaSlideMedium-Teaser RteTextLinkable">{teaser -> f:format.raw()}</div>
							<f:if condition="{node.nodeType.name} == 'Sfi.News:Announcement'">
								<div class="MediaSlideMedium-Teaser">{place -> f:format.raw()}</div>
							</f:if>
						</div>
					</div>
				</div>
			</neos:link.node>
		</div>
	</div>
</div>
